(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{6226:function(r,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return n(851)}])},851:function(r,e,n){"use strict";n.r(e);var s=n(4051),i=n.n(s),a=n(5893),t=n(9669),c=n.n(t),d=n(5152),o=n(1163),l=n(1664),u=n(7294),h=n(1749),x=n(8463),j=n(2822),f=n(998),m=n(5757),p=n(5477),Z=n(2318),y=n(9912),v=n(1907),b=n(282),w=n(2252),E=n(7005),_=n(1641),C=n(4940);function g(r,e,n,s,i,a,t){try{var c=r[a](t),d=c.value}catch(o){return void n(o)}c.done?e(d):Promise.resolve(d).then(s,i)}function H(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function O(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})))),s.forEach((function(e){H(r,e,n[e])}))}return r}function P(r,e){switch(e.type){case"FETCH_REQUEST":return O({},r,{loading:!0,error:""});case"FETCH_SUCCESS":return O({},r,{loading:!1,summary:e.payload,error:""});case"FETCH_FAIL":return O({},r,{loading:!1,error:e.payload})}}function S(){var r=(0,u.useContext)(E.yh).state,e=(0,o.useRouter)(),n=(0,C.Z)(),s=r.userInfo,t=(0,u.useReducer)(P,{loading:!0,summary:{salesData:[]},error:""}),d=t[0],H=d.loading,O=d.error,S=d.summary,T=t[1];return(0,u.useEffect)((function(){s||e.push("/login");var r=function(){var r,e=(r=i().mark((function r(){var e;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,T({type:"FETCH_REQUEST"}),r.next=4,c().get("/api/admin/summary",{headers:{authorization:"Bearer ".concat(s.token)}});case 4:e=r.sent.data,T({type:"FETCH_SUCCESS",payload:e}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),T({type:"FETCH_FAIL",payload:(0,w.b)(r.t0)});case 11:case"end":return r.stop()}}),r,null,[[0,8]])})),function(){var e=this,n=arguments;return new Promise((function(s,i){var a=r.apply(e,n);function t(r){g(a,s,i,t,c,"next",r)}function c(r){g(a,s,i,t,c,"throw",r)}t(void 0)}))});return function(){return e.apply(this,arguments)}}();r()}),[]),(0,a.jsx)(_.Z,{title:"Admin Dashboard",children:(0,a.jsxs)(h.Z,{container:!0,spacing:1,children:[(0,a.jsx)(h.Z,{item:!0,md:3,xs:12,children:(0,a.jsx)(x.Z,{className:n.section,children:(0,a.jsxs)(j.Z,{children:[(0,a.jsx)(l.default,{href:"/admin/dashboard",passHref:!0,children:(0,a.jsx)(f.Z,{selected:!0,button:!0,component:"a",children:(0,a.jsx)(m.Z,{primary:"Admin Dashboard"})})}),(0,a.jsx)(l.default,{href:"/admin/orders",passHref:!0,children:(0,a.jsx)(f.Z,{button:!0,component:"a",children:(0,a.jsx)(m.Z,{primary:"Orders"})})}),(0,a.jsx)(l.default,{href:"/admin/products",passHref:!0,children:(0,a.jsx)(f.Z,{button:!0,component:"a",children:(0,a.jsx)(m.Z,{primary:"Products"})})}),(0,a.jsx)(l.default,{href:"/admin/users",passHref:!0,children:(0,a.jsx)(f.Z,{button:!0,component:"a",children:(0,a.jsx)(m.Z,{primary:"Users"})})})]})})}),(0,a.jsx)(h.Z,{item:!0,md:9,xs:12,children:(0,a.jsx)(x.Z,{className:n.section,children:(0,a.jsxs)(j.Z,{children:[(0,a.jsx)(f.Z,{children:H?(0,a.jsx)(p.Z,{}):O?(0,a.jsx)(Z.Z,{className:n.error,children:O}):(0,a.jsxs)(h.Z,{container:!0,spacing:5,children:[(0,a.jsx)(h.Z,{item:!0,md:3,children:(0,a.jsxs)(x.Z,{raised:!0,children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsxs)(Z.Z,{variant:"h1",children:["$",S.ordersPrice]}),(0,a.jsx)(Z.Z,{children:"Sales"})]}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(l.default,{href:"/admin/orders",passHref:!0,children:(0,a.jsx)(b.Z,{size:"small",color:"primary",children:"View sales"})})})]})}),(0,a.jsx)(h.Z,{item:!0,md:3,children:(0,a.jsxs)(x.Z,{raised:!0,children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(Z.Z,{variant:"h1",children:S.ordersCount}),(0,a.jsx)(Z.Z,{children:"Orders"})]}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(l.default,{href:"/admin/orders",passHref:!0,children:(0,a.jsx)(b.Z,{size:"small",color:"primary",children:"View orders"})})})]})}),(0,a.jsx)(h.Z,{item:!0,md:3,children:(0,a.jsxs)(x.Z,{raised:!0,children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(Z.Z,{variant:"h1",children:S.productsCount}),(0,a.jsx)(Z.Z,{children:"Products"})]}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(l.default,{href:"/admin/products",passHref:!0,children:(0,a.jsx)(b.Z,{size:"small",color:"primary",children:"View products"})})})]})}),(0,a.jsx)(h.Z,{item:!0,md:3,children:(0,a.jsxs)(x.Z,{raised:!0,children:[(0,a.jsxs)(y.Z,{children:[(0,a.jsx)(Z.Z,{variant:"h1",children:S.usersCount}),(0,a.jsx)(Z.Z,{children:"Users"})]}),(0,a.jsx)(v.Z,{children:(0,a.jsx)(l.default,{href:"/admin/users",passHref:!0,children:(0,a.jsx)(b.Z,{size:"small",color:"primary",children:"View users"})})})]})})]})}),(0,a.jsx)(f.Z,{children:(0,a.jsx)(Z.Z,{component:"h1",variant:"h1",children:"Sales Chart"})}),(0,a.jsx)(f.Z,{})]})})})]})})}e.default=(0,d.default)((function(){return Promise.resolve(S)}),{ssr:!1})}},function(r){r.O(0,[967,164,200,641,774,888,179],(function(){return e=6226,r(r.s=e);var e}));var e=r.O();_N_E=e}]);